!function(p){p.su.storeManager.define("connectedClientsStore",{type:"store",fields:[{name:"networkMode"},{name:"deviceType"},{name:"deviceName"},{name:"deviceTag"},{name:"mac"},{name:"ip"},{name:"downloadSpeed"},{name:"uploadSpeed"},{name:"remainTime"},{name:"onlineTime"},{name:"enablePriority"},{name:"enableInternet"},{name:"signal"},{name:"rxrate"},{name:"txrate"},{name:"enableLimit"},{name:"downloadLimit",valueType:"number"},{name:"uploadLimit",valueType:"number"},{name:"isGuest"},{name:"speedLimitOnline"}]}),p.su.storeManager.define("clientFilterOptions",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"},{name:"selected"}],data:[]}),p.su.define("connectedClientProxy",{extend:"IPFProxy",url:p.su.url("/admin/smart_network?form=game_accelerator"),preventSuccessEvent:!0,preventFailEvent:!0,preventErrorEvent:!0,readFilter:function(e){var a,n="all",i="2g",t="5g",l="5g1",m="5g2",o="6g",r="wired",d="offline",s=!!p.su.serviceManager.get("device").configs.supportSpeedLimit,e=e.data.filter(function(e){return s&&!e.speedLimitOnline||"0.0.0.0"!==e.ip&&"offline"!==e.deviceTag}),u=p.su.serviceManager.get("device").getNetworkMode(),c={},n=(c[n]=e.length,e.forEach(function(e){a=function(e){var a="";switch(e){case"2.4G":case"2.4G_guest":a=i;break;case"5G":case"5G_guest":a=p.su.serviceManager.get("device").getIsTriband()?l:t;break;case"5G_1":case"5G_1_guest":a=l;break;case"5G_2":case"5G_2_guest":a=m;break;case"6G":a=o;break;case"wired":a=r;break;case"unknown":a="";break;default:a=d}return a}(e.deviceTag),u.includes(a)&&(c[a]=(c[a]||0)+1),e.networkMode=a}),e.filter(function(e){return"offline"!==e.networkMode}).length);return{clientNum:c,clientList:e,onlineClientNum:n}}}),p.su.define("blockClientProxy",{extend:"IPFProxy",url:p.su.url("/admin/smart_network?form=device_priority"),writeFilter:function(e){return p.extend({operation:"block"},e)}}),p.su.define("clientStatusProxy",{extend:"IPFProxy",url:p.su.url("/admin/status?form=client_status"),writeFilter:function(e){return p.extend({operation:"load"},e)}}),p.su.define("changeDeviceNameProxy",{extend:"IPFProxy",url:p.su.url("/admin/traffic?form=dev_name")}),p.su.define("getSpeedLimitMaxProxy",{extend:"IPFProxy",url:p.su.url("/admin/smart_network?form=client_speed_limit")}),p.su.storeManager.define("speedLimitDownloadStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"},{name:"selected"}],data:[{name:p.su.CHAR.NETWORK_MAP.NO_LIMITS,value:"none",boxlabel:p.su.CHAR.BANDWIDTH.NO_LIMITS},{name:p.su.CHAR.NETWORK_MAP.SPEED_1_MBPS,value:"1mbps",boxlabel:p.su.CHAR.NETWORK_MAP.SPEED_1_MBPS},{name:p.su.CHAR.NETWORK_MAP.SPEED_10_MBPS,value:"10mbps",boxlabel:p.su.CHAR.BANDWIDTH.SPEED_10_MBPS,selected:!0},{name:p.su.CHAR.NETWORK_MAP.CUSTOM,value:"custom",boxlabel:p.su.CHAR.NETWORK_MAP.CUSTOM}]}),p.su.storeManager.define("speedLimitUploadStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"},{name:"selected"}],data:[{name:p.su.CHAR.NETWORK_MAP.NO_LIMITS,value:"none",boxlabel:p.su.CHAR.BANDWIDTH.NO_LIMITS},{name:p.su.CHAR.NETWORK_MAP.SPEED_200_KBPS,value:"200kbps",boxlabel:p.su.CHAR.BANDWIDTH.SPEED_200_KBPS,selected:!0},{name:p.su.CHAR.NETWORK_MAP.SPEED_2_MBPS,value:"2mbps",boxlabel:p.su.CHAR.NETWORK_MAP.SPEED_2_MBPS},{name:p.su.CHAR.NETWORK_MAP.CUSTOM,value:"custom",boxlabel:p.su.CHAR.NETWORK_MAP.CUSTOM}]}),p.su.modelManager.define("speedLimitModel",{type:"model",fields:[{name:"mac"},{name:"enableLimit"},{name:"downloadLimitType"},{name:"downloadLimit",allowBlank:!1,valueType:"number",vtype:{vtype:"number",min:1,max:1024}},{name:"downloadLimitUnit",defaultValue:"mbps"},{name:"uploadLimitType"},{name:"uploadLimit",allowBlank:!1,valueType:"number",vtype:{vtype:"number",min:1,max:1024}},{name:"uploadLimitUnit",defaultValue:"mbps"}],serialize:function(e){var a={mac:e.mac,enableLimit:e.enableLimit,downloadLimit:0,uploadLimit:0};switch(e.downloadLimit="kbps"==e.downloadLimitUnit?e.downloadLimit:1024*e.downloadLimit,e.uploadLimit="kbps"==e.uploadLimitUnit?e.uploadLimit:1024*e.uploadLimit,e.downloadLimitType){case"none":a.downloadLimit=-1;break;case"1mbps":a.downloadLimit=1024;break;case"10mbps":a.downloadLimit=10240;break;case"custom":a.downloadLimit=e.downloadLimit}switch(e.uploadLimitType){case"none":a.uploadLimit=-1;break;case"200kbps":a.uploadLimit=200;break;case"2mbps":a.uploadLimit=2048;break;case"custom":a.uploadLimit=e.uploadLimit}return a="off"===e.enableLimit?{enableLimit:e.enableLimit,mac:e.mac}:a},proxy:"getSpeedLimitMaxProxy"})}(jQuery);